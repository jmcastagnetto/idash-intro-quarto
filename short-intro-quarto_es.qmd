---
title: "Una introducci√≥n a Quarto"
date: 2025-11-25
license: CC BY-NC-SA
author:
  - name: Jesus M. Castagnetto, Ph.D.
    orcid: 0000-0002-7188-1605
    email: jesus@upch.pe
    affiliation: IDASH SAM 2025
format: 
  revealjs: 
    theme: [default, style.scss]
    transition: slide
    fontcolor: "#262d36"
    chalkboard: true
    highlight-style: a11y
    code-line-numbers: false
    self-contained-math: true
    code-annotations: hover
    preview-links: true
    slide-number: true
    show-slide-number: all
    logo: images/quarto.png
    footer: Una introducci√≥n a Quarto // Jesus M. Castagnetto // IDASH SAM, 2025
    pointer:
      pointersize: 18
    mermaid-format: png
    fig-width: 12
  #pptx: default

lang: es

revealjs-plugins:
  - pointer
  - attribution

---

## Agenda

- Qu√© es Quarto y cu√°l es su utilidad
- Conceptos b√°sicos de programaci√≥n literal
- Qu√© podemos crear con Quarto (Ejemplos)
- Estructura de un documento en Quarto
- Siguientes pasos

::: notes
**Decir**:

Probablemente no sepan mucho de Quarto y la tecnolog√≠a que representa, esta presentaci√≥n tiene como objetivo el poder darles una introducci√≥n a Quarto, como se puede usar con R para crear reportes, sitios web, presentaciones como esta, dashboards, etc.
:::

## ¬øQu√© es Quarto? {.title-top-azure background-image="images/horst-quarto-meteor-transparent.png" aria-label="Un meteoro donde la cabeza del mismo es el logo de Quarto"} 

::: attribution
Arte por [Allison Horst](https://allisonhorst.com/)
:::

## Quarto^¬Æ^ (1)

- Es un nuevo^[Quarto fue anunciado en el 2022] sistema de c√≥digo abierto, para producir publicaciones cient√≠ficas y t√©cnicas, que reusa herramientas abiertas exitentes
- Basado en la combinaci√≥n de descripci√≥n (texto) y c√≥digo (**R**, Python, etc.) para generar reportes, libros, sitios web, dashboards, presentaciones (como esta üòÑ), etc.

## Quarto^¬Æ^ (2)

- Aprende de las lecciones de casi una d√©cada de uso de RMarkdown^[La primera versi√≥n de RMarkdown es del 2014] por la comunidad mundial de usuarios de R.
- Mantenido por Posit, PBC (antes RStudio, PBC), y con una gran comunidad activa de desarrolladores que contribuyen a su mejora.


## Quarto vs RMarkdown (1)

- Con RMarkdown se pueden hacer reportes, p√°ginas web, y presentaciones simples, al igual que podemos hacerlos en Quarto.
- Pero para producir dashboards, libros, art√≠culos cient√≠ficos, sitios web (blogs), etc. se necesitan usar una serie de paquetes extra, a veces combinaciones de varios de estos. **Quarto tiene eso ya inclu√≠do**.

## Quarto vs RMarkdown (2)

- RMarkdown mezcla [Markdown](https://en.wikipedia.org/wiki/Markdown) con secciones escritas en R, y no es simple el incorporar c√≥digo en otros lenguajes de programaci√≥n (ej. Python, Julia). **En Quarto, hay soporte para usar m√∫ltiples lenguajes de programaci√≥n en un mismo documento**.
- Incluir componentes como diagramas, referencias a tablas o figuras, y otros, requiere de configuraciones y paquetes secundarios especiales en RMarkdown, **no as√≠ en Quarto, que ya tiene soporte para toda esa funcionalidad**.

::: notes
**Decir**:

Si bien RMarkdown permite mucho de que lo podemos hacer con Quarto, no tenemos que instalar un n√∫mero de paquetes extra (con sus dependencias) como s√≠ tendr√≠amos que hacerlo para hacer cosas algo mas complicadas en RMarkdown.
:::

## De RMarkdown a Quarto

![Quarto simplifica la generaci√≥n de muchos documentos, sitios web, art√≠culos cient√≠ficos, presentaciones, dashboards, etc.](images/rmarkdown-quarto.drawio.png)

## Nuevas caracter√≠sticas en Quarto

:::: {.columns}

::: {.column width="50%"}
- Referencias cruzadas
- Dise√±o avanzado
- Paneles avanzados para distribuciones y figuras
- Diagramas
- Extensiones
- Manejo de bibliograf√≠a
:::

::: {.column width="50%"}
- Interactividad
- Metadatos inteligentes (YAML)
- Publicaci√≥n en m√∫ltiples formatos
- Contenido condicional
- Filtros en los notebooks
:::

::::


## Objetivos de Quarto

- Mejorar dram√°ticamente el proceso de crear y colaborar en la producci√≥n de contenido reproducible: reportes t√©cnicos, articulos cient√≠ficos, etc., basandose en la experiencia de desarrollo y uso de RMarkdown.
- Permitir el usar un mismo documento fuente, que pueda convertirse a varios formatos: HTML, PDF, MS Word, ePub, OpenDocument, etc.
- Incluir otros lenguajes de programaci√≥n dentro del paradigma de la _**programaci√≥n literal**_.

## Programaci√≥n literal (1)

- El t√©rmino "Pogramaci√≥n literal" (*Literate Programming*) fue acu√±ado por [Donald Knuth](https://en.wikipedia.org/wiki/Donald_Knuth) en 1984.
- Implica el combinar la explicaci√≥n de como un programa trabaja, en forma narrativa y usando un lenguaje natural, y no solamente la sint√°xis formal de un lenguaje de programaci√≥n.
- Cualquier forma de comunicaci√≥n t√©cnica y cient√≠fica (art√≠culo, poster, presentaci√≥n, reporte), implica el narrar una historia para que el mensaje sea inteligible.

## Programaci√≥n literal (2)

- La programaci√≥n literal nos permite anotar, en forma integrada, el c√≥digo empleado para el c√°lculo, de manera de dar contexto y significado a los resultados, explicar suposiciones, consideraciones y decisiones del an√°lisis.
- Todo esto hace que el documento creado, sea no s√≥lo mas entendible, sino eminentemente reproducible y replicable.

## ¬øQu√© podemos crear con Quarto?

::: {.panel-tabset}

### Libros

[![](images/screenshot-book.png){height=5in}](https://jjallaire.github.io/hopr/)

### Sitios web

[![](images/screenshot-website.png){height=5in}](https://quarto.org)
            
### Art√≠culos

[![](images/screenshot-article.png){height=5in}](https://quarto-journals.github.io/biophysical-journal/)

### Dashboards

[![](images/screenshot-dashboard.png){height=5in}](https://colorado.posit.co/rsc/nz-quakes/quakes.html)

### Presentaciones

[![](images/screenshot-exp-design.png)](https://emitanaka.org/slides/toronto2022)

:::

## ¬øC√≥mo funciona Quarto?

```{mermaid}
%% { init: { 'flowchart': { 'curve': 'monotoneX'} } }
flowchart LR
    A["üìì Quarto (qmd)"] -->|" R "| B("üß∂ knitr")
    A -->|" Python "| C("üì¶ jupyter")
    B --> D["üìù Markdown (md)"]
    C --> D
    B --> E("üñºÔ∏è png, svg, etc.")
    C --> E
    D --> P(["‚öôÔ∏è pandoc"])
    E --> P
    P --> F{{"üîÆ"}}
    F --> G["üåê HTML"]
    F --> H["üìÑ PDF"]
    F --> I["üìÉ DOCX"]
    F --> L["üìò EPUB"]
    F --> M[... y muchos mas]
    classDef output fill:#f8d568;
    class G,H,I,L,M output;
    classDef interm fill:#7cfc00;
    class B,C,D,E interm;
    style P fill:#e6e6fa,stroke-width:3px;
    style A fill:yellow,color:black;
    style F fill:white,stroke-width:2px,stroke-dasharray:5 5;
```

## Quarto: Componentes

::::: {.panel-tabset}

### Metadatos

:::: {.columns}

::: {.column width="50%"}
![](images/yaml.png){height=5in}
:::

::: {.column width="50%"}
- Usa [YAML](https://yaml.org/) (Yet Ain't Markup Language), un lenguaje para describir contenido, f√°cil de editar, entender, y leer.
- En Quarto, describe los par√°metros del documento, y que formatos de salida se generar√°n.
- Contiene tambi√©n informaci√≥n de la autor√≠a, idioma del texto, etc.
:::

::::

### Bloques de c√≥digo

:::: {.columns}

::: {.column width="50%"}
![](images/code-chunks.png){height=5in}
:::

::: {.column width="50%"}
- Incluye c√≥digo en R (o Python, Julia y ObservableJS) para procesar datos, y generar alg√∫n resultado, tabla, gr√°fico, etc.
- Se delimita con comillas invertidas, indicando el lenguaje empleado:

```` markdown
```r
# ... c√≥digo en R
```
````

:::

::::


### Texto en Markdown

:::: {.columns}

::: {.column width="50%"}
![](images/markdown-text.png){height=5in}
:::

::: {.column width="50%"}

[Markdown](https://quarto.org/docs/authoring/markdown-basics.html):

- *It√°lica* (`*It√°lica*`)
- **Resaltado** (`**Resaltado**`)
- Encabezados:
  - Primer nivel (`# H1`)
  - Segundo nivel (`## H2`), etc.
- Listas (`- Listas`)
- Ecuaciones: $E = mc^{2}$ (`Ecuaciones: $E = mc^{2}$`)

:::

::::

:::::


## Quarto en la pr√°ctica {.title-top-light background-image="images/horst_penguins_telescope.png" aria-label="Un ping√ºino sobre los hombros de otro, en una paisaje nevado, mirado  trav√©s de una telesc√≥pio al logo de Quarto como si fuera la luna en el firmamento."} 

::: attribution
Arte por [Allison Horst](https://allisonhorst.com/)
:::


## Un ejemplo desarrollado

- Vamos a usar los datos del paquete {[palmerpenguins](https://allisonhorst.github.io/palmerpenguins/)}, como base para crear un reporte simple en HTML usando Quarto
- El documento en Quarto va a contener:
  - Una descripci√≥n corta de los datos
  - C√≥digo para procesar los datos
  - Un par de tablas de res√∫men
  - Dos gr√°ficos: uno de barras y otro de dispersi√≥n

## Instalando Quarto

Descargar e instalar el ejecutable de [https://quarto.org/docs/get-started/](https://quarto.org/docs/get-started/)
![](images/download-quarto.png)


## Instalando paquetes en RStudio

Asegur√©monos que tenemos instalados `{tidyverse}` y `{palmerpenguins}` 
```{r eval=FALSE,echo=TRUE}
install.packages("tidyverse")
install.packages("palmerpenguins")
```

## Metadatos del documento

``` yaml
---
title: "Los ping√ºinos de Palmer"           # <1>
subtitle: "Un ejemplo de uso de Quarto"    # <1>
license: CC BY-NC-SA                       # <2>
author:                                    # <3>
  - name: Jesus M. Castagnetto, Ph.D.      # <3>
    orcid: 0000-0002-7188-1605             # <3>  
    email: jesus@upch.pe                   # <3>
    affiliation: INSIGHT Project / UPCH    # <3>  
lang: es                                   # <4>  
format:                                    # <5> 
  html:  # generar HTML
    code-fold: true # esconder el c√≥digo
    self-contained-math: true                
    embed-resources: true                 
    toc: true                             
    execute:  # incluir c√≥digo en HTML    
      warning: false                      
      echo: true                          
---
```
1. T√≠tulo y subt√≠tulo
2. Licencia
3. Autor√≠a
4. Idioma (espa√±ol)
5. Formatos de salida


## Cargando librer√≠as y datos

````markdown
```r
# cargar las librer√≠as que necesitamos
library(tidyverse)
library(knitr)
library(palmerpenguins)  # datos
```
````

## A√±adiendo una introducci√≥n

```markdown
## Introducci√≥n

Este es un ejemplo de un reporte sencillo, 
en formato HTML, generado usando Quarto.

Vamos a usar los datos de ping√ºinos del archipi√©lago 
de Palmer (Ant√°rtica), que fueron originalmente 
recolectados por la **Dra. Kristen Gorman**, como 
parte del *Programa de Investigaci√≥n Ecol√≥gica 
de Largo Plazo* de la Estaci√≥n Palmer (LTER: 
Long Term Ecological Research).

```

## Mezclando c√≥digo y texto

Podemos agregar c√°lculos y resultados directamente, junto con el texto, usando comillas invertidas, e indicando el lenguaje de programaci√≥n, en la forma como se muestra a continuaci√≥n:

![](images/inline-code.png)

## Como se ve la introducci√≥n

![](images/intro-output.png){height=6in}

## Preparando los datos

```{r eval=FALSE,echo=TRUE}
esp_sexo <- penguins %>% 
  group_by(
    species,
    sex
  ) %>% 
  summarise(
    total = n(),
    n_islas = n_distinct(island),
    prom_long_pico = mean(bill_length_mm, na.rm = TRUE),
    sd_long_pico = sd(bill_length_mm, na.rm = TRUE),
    prom_prof_pico = mean(bill_depth_mm, na.rm = TRUE),
    sd_prof_pico = sd(bill_depth_mm, na.rm = TRUE),
    prom_long_ala = mean(flipper_length_mm, na.rm = TRUE),
    sd_long_ala = sd(flipper_length_mm, na.rm = TRUE),
    prom_peso = mean(body_mass_g, na.rm = TRUE),
    sd_peso = sd(body_mass_g, na.rm = TRUE)
  ) %>% 
  ungroup() %>% 
  mutate(  # Cambiar los contenidos al espa√±ol
    sex = case_when(
        sex == "male" ~ "Masculino",
        sex == "female" ~ "Femenino",
        is.na(sex) ~ "Desconocido"
      )
  )
```


## Datos para las tablas

```{r eval=FALSE,echo=TRUE}
# Usemos mutate() para crear nuevas 
# columnas en el formato que queremos
tab_pinguinos <- esp_sexo %>% 
  mutate(
    long_pico = paste(
      round(prom_long_pico, 1),
      " (",
      round(sd_long_pico, 1),
      ")"
    ),
    prof_pico = paste(
      round(prom_prof_pico, 1),
      " (",
      round(sd_prof_pico, 1),
      ")"
    ),
    long_ala = paste(
      round(prom_long_ala, 1),
      " (",
      round(sd_long_ala, 1),
      ")"
    ),
    peso = paste(
      round(prom_peso, 1),
      " (",
      round(sd_peso, 1),
      ")"
    )
  ) %>% 
  select( # seleccionar y renombrar las columnas
    Especie = species,
    Sexo = sex,
    Total = total,
    Islas = n_islas,
    "Pico (long)" = long_pico,
    "Pico (prof)" = prof_pico,
    Aleta = long_ala,
    Peso = peso
  )
```

## Produciendo las tablas

:::: {.columns}

::: {.column width="50%"}
```{r eval=FALSE,echo=TRUE}
# tabla 1
kable(
  tab_pinguinos %>% 
    select(
      Especie, 
      Sexo, 
      Total, 
      Islas
    )
)
```
:::

::: {.column width="50%"}
```{r eval=FALSE,echo=TRUE}
# tabla 2
kable(
  tab_pinguinos %>% 
    select(
      -Total, 
      -Islas
    )
)
```
:::

::::


## Las tablas

![](images/output-tables.png){height=6in}

## Un gr√°fico de barras

:::: {.columns}

::: {.column width="60%"}

```{r echo=TRUE,eval=FALSE}
ggplot(
  penguins, 
  aes(x = species, fill = island)
) +
  geom_bar() +
  labs(
    title = "Distribuci√≥n de ping√ºinos por cada isla",
    x = "Especie",
    y = "Frecuencia",
    fill = "Islas"
  ) +
  theme_bw(16) +
  theme(
    legend.position = "top"
  )
```

:::

::: {.column width="40%"}
![](images/barchart-penguins.png)
:::

::::

## El gr√°fico de dispersi√≥n (puntos)

:::: {.columns}

::: {.column width="60%"}

```{r echo=TRUE,eval=FALSE}
ggplot(
  penguins,
  aes(x = bill_length_mm, 
      y = flipper_length_mm, 
      color = species)
) +
  geom_point() +
  scale_color_brewer(palette = "Paired") +
  labs(
    title = "Relaci√≥n entre la longitud del pico y la aleta",
    subtitle = "Ping√ºinos de Palmer",
    x = "Longitud del pico (en mm)",
    y = "Longitud de la aleta (en mm)",
    color = "Especie"
  ) +
  theme_classic(16)
```

:::

::: {.column width="40%"}
![](images/scatterplot-penguins.png)
:::

::::

## El documento HTML final

<iframe src="los-pinguinos-de-palmer-es.html" height="70%" width="90%"></iframe>

## Recursos

- [P√°gina principal de Quarto](https://quarto.org)
  - [Instalaci√≥n de Quarto](https://quarto.org/docs/get-started/)
- [Awesome Quarto (Micka√´l Canouil)](https://github.com/mcanouil/awesome-quarto)
- [Intro to Quarto (Isabella Vel√°squez)](https://ivelasq.quarto.pub/intro-to-quarto)
- [Hello Quarto (Mine Cetinkaya-Rundel)](https://mine.quarto.pub/hello-quarto/)
- [Getting started with Quarto (Tom Mock)](https://rstudio-conf-2022.github.io/get-started-quarto/)
